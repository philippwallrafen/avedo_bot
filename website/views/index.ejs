<!-- ~/website/views/index.ejs -->

<section id="search" class="tab-content">
  <h1>Hello!</h1>
  <p>Search page<br /><br /><br /></p>
  <p>Agenten / Funktionen direkt suchen, später später</p>
</section>

<section id="dashboard" class="tab-content">
  <h1>Dashboard</h1>
  <p>Dashboard page<br /><br /><br /></p>
  <!-- Separate inbound vs. outbound properly inside a single code block: -->

  <div role="toolbar">
    <button onclick="reload()">Reload</button>
    <div role="skillButtons">
      <button onclick="skillOutboundtoInbound()">OB > IB</button>
      <button onclick="skillOutboundtoOutbound()">OB > OB</button>
    </div>
  </div>

  <!-- prettier-ignore -->
  <% 
    const inboundAgents = agents
      .filter(a => !a.inboundoutbound || a.inboundoutbound === 'inbound')
      .sort((a, b) => a.priority - b.priority);

    const outboundAgents = agents
      .filter(a => a.inboundoutbound === 'outbound')
      .sort((a, b) => a.priority - b.priority);
  %>

  <!-- Render outbound list partial -->
  <%- include('partials/_agentList', {
    title: 'Inbound Agents',
    listId: 'inboundList',
    agents: inboundAgents
  })
  %>
  <%- include('partials/_agentList', {
    title: 'Outbound Agents',
    listId: 'outboundList',
    agents: outboundAgents
  })
  %>
</section>

<section id="monitor" class="tab-content">
  <h1>Monitor</h1>
  <p>Monitor page<br /><br /><br /></p>
  <img src="/images/monitor_example.webp" />
</section>

<section id="skills" class="tab-content">
  <h1>Skills</h1>
  <p>Skills page<br /><br /><br /></p>
</section>

<section id="agent_priority" class="tab-content">
  <h1>Agent Priority</h1>
  <p>Agent priority page<br /><br /><br /></p>
  <p>
    <br />(Initialisierung mit HTML und nur fürs Verschieben JavaScript)<br />
    (Am besten Websocket, damit alle Skillseiten synchron sind)
  </p>
</section>

<section id="log" class="tab-content">
  <h1>Log</h1>
  <p>Log page<br /><br /><br /></p>
  <div id="log-window">Loading logs...</div>
</section>
